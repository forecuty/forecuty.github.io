<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>SPI | Fore</title><meta name="author" content="Fore,forecuty@outlook.com"><meta name="copyright" content="Fore"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="SPI（Serial Peripheral Interface）是一种全双工的同步串行通信协议。 特点 硬件架构：SPI使用一组主&#x2F;从架构，其中一个设备（通常是微控制器）充当主设备，控制通信和时序，其他设备则作为从设备响应主设备的命令。 信号：SPI使用四个信号进行通信：  MOSI: Master Output, Slave Input. MISO: Master Input, Slave Ou">
<meta property="og:type" content="article">
<meta property="og:title" content="SPI">
<meta property="og:url" content="http://www.forecuty.com/2023/03/12/spi/spi/index.html">
<meta property="og:site_name" content="Fore">
<meta property="og:description" content="SPI（Serial Peripheral Interface）是一种全双工的同步串行通信协议。 特点 硬件架构：SPI使用一组主&#x2F;从架构，其中一个设备（通常是微控制器）充当主设备，控制通信和时序，其他设备则作为从设备响应主设备的命令。 信号：SPI使用四个信号进行通信：  MOSI: Master Output, Slave Input. MISO: Master Input, Slave Ou">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/39004468?s=400&u=fd45b1d0b37e6e3a67afae8da29319f562a26250&v=4">
<meta property="article:published_time" content="2023-03-11T16:00:45.000Z">
<meta property="article:modified_time" content="2025-11-14T16:56:27.481Z">
<meta property="article:author" content="Fore">
<meta property="article:tag" content="Flash">
<meta property="article:tag" content="SPI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://avatars.githubusercontent.com/u/39004468?s=400&u=fd45b1d0b37e6e3a67afae8da29319f562a26250&v=4"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "SPI",
  "url": "http://www.forecuty.com/2023/03/12/spi/spi/",
  "image": "https://avatars.githubusercontent.com/u/39004468?s=400&u=fd45b1d0b37e6e3a67afae8da29319f562a26250&v=4",
  "datePublished": "2023-03-11T16:00:45.000Z",
  "dateModified": "2025-11-14T16:56:27.481Z",
  "author": [
    {
      "@type": "Person",
      "name": "Fore",
      "url": "http://www.forecuty.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.forecuty.com/2023/03/12/spi/spi/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/null"/><link rel="icon" type="image/png" sizes="32x32" href="/images/fore_favicon-32x32.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/images/fore_favicon-32x32.ico"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SPI',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 8.1.1"></head><body><div id="web_bg" style="background-image: url(/images/background_fore_working.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://avatars.githubusercontent.com/u/39004468?s=400&amp;u=fd45b1d0b37e6e3a67afae8da29319f562a26250&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><span> Blog</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><span> Archives</span></a></li><li><a class="site-page child" href="/categories/"><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><span> Tags</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><span> Life</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><span> Link</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Fore</span></a><a class="nav-page-title" href="/"><span class="site-name">SPI</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><span> Blog</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><span> Archives</span></a></li><li><a class="site-page child" href="/categories/"><span> Categories</span></a></li><li><a class="site-page child" href="/tags/"><span> Tags</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><span> Life</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><span> Link</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">SPI</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-03-11T16:00:45.000Z" title="Created 2023-03-12 00:00:45">2023-03-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-11-14T16:56:27.481Z" title="Updated 2025-11-15 00:56:27">2025-11-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Protocols/">Protocols</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><p>SPI（Serial Peripheral Interface）是一种全双工的同步串行通信协议。</p>
<h2 id="特点">特点</h2>
<p>硬件架构：SPI使用一组主/从架构，其中一个设备（通常是微控制器）充当主设备，控制通信和时序，其他设备则作为从设备响应主设备的命令。</p>
<p>信号：SPI使用四个信号进行通信：</p>
<ul>
<li><code>MOSI</code>: Master Output, Slave Input.</li>
<li><code>MISO</code>: Master Input, Slave Output.</li>
<li><code>SCK</code>: Serial Clock, 由主设备产生。</li>
<li><code>SS</code>: Slave Select (Chip select)，由主设备控制，低电平期间有效。</li>
</ul>
<p>传输模式：SPI协议支持四种传输模式，具体取决于时钟极性（CPOL: clock polarity）和时钟相位（CPHA: clock phase）。</p>
<ul>
<li>Mode 0: CPOL=0, CPHA=0</li>
<li>Mode 1: CPOL=0, CPHA=1</li>
<li>Mode 2: CPOL=1, CPHA=0</li>
<li>Mode 3: CPOL=1, CPHA=1</li>
</ul>
<p><img src="spi_clock_format_0.png" alt="spi clock format 0" title="spi clock format 0"></p>
<p><img src="spi_clock_format_1.png" alt="spi clock format 1" title="spi clock format 1"></p>
<p>缺点：SPI协议缺少错误检测和校验机制，因此在传输数据时需要特别小心，以确保数据的完整性和准确性。</p>
<h2 id="多从机连接方式">多从机连接方式</h2>
<p><code>Parallel wiring</code>:<br>
每个从机需要单独一根SS。<br>
<img src="parallel_wiring.svg" alt="Parallel wiring" title="Parallel wiring"></p>
<p><code>Daisy chaining</code>:<br>
每个从机共用一根SS，数据在设备间串行传输，串联设备中出现错误时，将导致优先级在其之下的设备断开，因此需要检测总线，从而可以短路发生故障的从机，避免造成链路崩溃。<br>
<img src="daisy_chaining.svg" alt="Daisy chaining" title="Daisy chaining"></p>
<h2 id="Flash操作">Flash操作</h2>
<p>以下的内容展开以兆易创新的8M Flash GD25Q64C为例。</p>
<h3 id="模式">模式</h3>
<p>GD25Q64C支持3种SPI工作模式，分别为：</p>
<ul>
<li><code>Standard SPI</code>：标准SPI模式采用4根线，Serial Clock (SCLK), Chip Select (CS#), Serial Data Input (SI) and Serial Data Output (SO)。该模式支持SPI模式0和模式3，输入数据在SCLK的上升沿被锁存，数据在SCLK的下降沿被移出。</li>
<li><code>Dual SPI</code>：双线模式，速度为标准SPI的两倍。在双线模式下，SI和SO变成双向I/O管脚。可直接使用Dual命令来进行传输。</li>
<li><code>Quad SPI</code>：四线模式，速度为标准SPI的四倍。在四线模式下,SI和SO变成双向I/O，同时WP#和HLOD变为IO2和IO3。使用Quad命令前，需要使能状态寄存器的Quad Enable Bit（QE）。</li>
</ul>
<h3 id="命令">命令</h3>
<p><img src="flash_cmd_0.png" alt="flash command table" title="flash command table 0"><br>
<img src="flash_cmd_1.png" alt="falsh command tabel" title="flash command table 1"></p>
<ol>
<li>Dual Output data<br>
IO0 = (D6, D4, D2, D0) <br>
IO1 = (D7, D5, D3, D1)</li>
<li>Dual Input Address <br>
IO0 = A22, A20, A18, A16, A14, A12, A10, A8 A6, A4, A2, A0, M6, M4, M2, M0 <br>
IO1 = A23, A21, A19, A17, A15, A13, A11, A9 A7, A5, A3, A1, M7, M5, M3, M1</li>
<li>Quad Output Data <br>
IO0 = (D4, D0, …) <br>
IO1 = (D5, D1, …) <br>
IO2 = (D6, D2, …) <br>
IO3 = (D7, D3, …)</li>
<li>Quad Input Address <br>
IO0 = A20, A16, A12, A8, A4, A0, M4, M0 <br>
IO1 = A21, A17, A13, A9, A5, A1, M5, M1 <br>
IO2 = A22, A18, A14, A10, A6, A2, M6, M2 <br>
IO3 = A23, A19, A15, A11, A7, A3, M7, M3</li>
<li>Fast Read Quad I/O Data <br>
IO0 = (x, x, x, x, D4, D0,…) <br>
IO1 = (x, x, x, x, D5, D1,…) <br>
IO2 = (x, x, x, x, D6, D2,…) <br>
IO3 = (x, x, x, x, D7, D3,…)</li>
<li>Fast Word Read Quad I/O Data <br>
IO0 = (x, x, D4, D0,…) <br>
IO1 = (x, x, D5, D1,…) <br>
IO2 = (x, x, D6, D2,…) <br>
IO3 = (x, x, D7, D3,…)</li>
<li>Fast Word Read Quad I/O Data: the lowest address bit must be 0.</li>
<li>Security Registers Address: <br>
Security Register1: A23-A16=00H, A15-A10=000100b, A9-A0= Byte Address; <br>
Security Register2: A23-A16=00H, A15-A10=001000b, A9-A0= Byte Address; <br>
Security Register3: A23-A16=00H, A15-A10=001100b, A9-A0= Byte Address.</li>
<li>Dummy bits and Wrap Bits <br>
IO0 = (x, x, x, x, x, x, W4,x) <br>
IO1 = (x, x, x, x, x, x, W5, x) <br>
IO2 = (x, x, x, x, x, x, W6, x) <br>
IO3 = (x, x, x, x, x, x, x, x)</li>
<li>Address, Continuous Read Mode bits, Dummy bits, Manufacture ID and Device ID <br>
IO0 = (A20, A16, A12, A8, A4, A0, M4, M0, x, x, x, x, MID4, MID0, DID4, DID0, …) <br>
IO1 = (A21, A17, A13, A9, A5, A1, M5, M1, x, x, x, x, MID5, MID1, DID5, DID1, …) <br>
IO2 = (A22, A18, A14, A10, A6, A2, M6, M2, x, x, x, x, MID6, MID2, DID6, DID2, …) <br>
IO3 = (A23, A19, A15, A11, A7, A3, M7, M3, x, x, x, x, MID7, MID3, DID7, DID3, …)</li>
</ol>
<h3 id="操作">操作</h3>
<h4 id="Read">Read</h4>
<p>读取操作之前需要拉低CS#选中当前Flash，Read Data Bytes（Read）命令后面跟着一个3字节地址（A23-A0），被寻址的第一个字节可以在任何位置。在每个字节的数据被移出后，地址会自动递增到下一个更高的地址。因此，可以使用单个读取数据字节（read）命令读取整个内存。重新拉高CS#以停止当前读取操作。当擦除、编程或写入周期正在进行时，任何读取数据字节（Read）命令都会被拒绝，而不会对正在进行的周期产生任何影响。</p>
<p><img src="read_sequence.png" alt="read sequence diagram" title="read sequence diagram"></p>
<p>和上面的差别在于时钟频率为最大时钟频率，同时在地址后紧接一个dummy byte。<br>
<img src="fast_read_sequence.png" alt="fast read sequence diagram" title="fast read sequence diagram"></p>
<p>在每个时钟周期内，一共有两个位的数据同时从SI和SO输出。<br>
<img src="dual_fast_read_sequence.png" alt="dual fast read sequence diagram" title="dual fast read sequence diagram"></p>
<p>Dual I/O Fast Read和上面很相似，差别在于增加了一个连续模式的位段(M7-4)，且除了命令数据外，其余数据均在每个时钟周期都会同时发送2位。</p>
<p>连续模式：当Dual I/O Fast Read下的数据位(M5-4)=(1,0)时，下一个Dual I/O Fast Read命令可以省略。而当其值不为(1,0)时，恢复为正常模式，此时需要发送命令来进行下一次新的读取操作。<br>
<img src="dual_io_fast_read_sequence.png" alt="dual io fast read sequence diagram" title="dual io fast read sequence diagram"><br>
在连续模式下，发起新读取操作不需要继续发送BBH.<br>
<img src="dual_io_fast_read_sequence_continus_mode.png" alt="dual io fast read sequence continus mode"></p>
<p>在每个时钟周期内，一共有4位数据从IO3,IO2,IO1,IO0输出。<br>
<img src="quad_fast_read_sequence.png" alt="quad fast read sequence diagram" title="quad fast read sequence diagram"></p>
<p>连续模式：当Quad I/O Fast Read下的数据位(M5-4)=(1,0)时，下一个Quad I/O Fast Read命令可以省略。而当其值不为(1,0)时，恢复为正常模式，此时需要发送命令来进行下一次新的读取操作。<br>
<img src="quad_io_fast_read_sequence.png" alt="quad io fast read sequence diagram" title="quad io fast read sequence diagram"><br>
在连续模式下，发起新读取操作不需要继续发送EBH.<br>
<img src="quad_io_fast_read_sequence_continus_mode.png" alt="quad io fast read continuous mode sequence diagram" title="quad io fast read continuous mode sequence diagram"></p>
<h4 id="Write">Write</h4>
<p>在写数据之前，需要先发送写使能指令WREN。同样地，拉低CS#以选中当前Flash。如果最低有效的8个地址位（A7-A0）不全为零，则所有超出当前页末尾的传输数据都将从同一页的起始地址（即其8个最低有效位（A7-A0）全为零的地址）继续写入。如果向设备发送超过256个字节，则先前锁存的数据将被丢弃，并且保证最后256个数据字节在当前页面被正确写入，因此，在最后一个数据字节写完后，必须将CS#拉高。而如果发送到设备的数据字节数少于256，则它们将在请求的地址处写入，而不会对同一页面的其他字节产生影响。<br>
<img src="page_program_sequence.png" alt="page program sequence diagram" title="page program sequence diagram"></p>
<p>和PP指令一样，但是在每个时钟周期内，一共有4位数据从IO3,IO2,IO1,IO0输出。<br>
<img src="quad_page_program_sequence.png" alt="quad page program sequence diagram" title="quad page program sequence diagram"></p>
<p>差别在于使用了最大的时钟频率。<br>
<img src="fast_page_program_sequence.png" alt="fast page program sequence diagram" title="fast page program sequence diagram"></p>
<h4 id="Erase">Erase</h4>
<p>Flash特性是只能从1写到0，因此，在往Flash写入数据前，需要先擦除原本Flash上的数据。在发送扇区擦除（SE）命令之前，必须先执行写使能（WREN）命令。扇区内的任何地址都是扇区擦除（SE）命令的有效地址。注意执行完命令后将CS#拉高。<br>
<img src="sector_erase_sequence.png" alt="sector earse sequence diagram" title="sector earse sequence diagram"></p>
<p>32k块内的任何地址都是擦除命令的有效地址。<br>
<img src="32k_block_erase_sequence.png" alt="32k block earse sequence diagram" title="32k block earse sequence diagram"></p>
<p>64k块内的任何地址都是擦除命令的有效地址。<br>
<img src="64k_block_erase_sequence.png" alt="64k block earse sequence diagram" title="64k block earse sequence diagram"></p>
<p>该命令可将整片Flash数据擦除。<br>
<img src="chip_erase_sequence.png" alt="chip earse sequence diagram" title="chip earse sequence diagram"></p>
<h2 id="References">References</h2>
<blockquote>
<p>[1] Motorola Inc. SPI Block Guide V04.01[S]. 2004.<br>
[2] GigaDevice, GD25Q64C DATASHEET[S]. 2018,8,1</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://www.forecuty.com">Fore</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://www.forecuty.com/2023/03/12/spi/spi/">http://www.forecuty.com/2023/03/12/spi/spi/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Flash/">Flash</a><a class="post-meta__tags" href="/tags/SPI/">SPI</a></div><div class="post-share"><div class="social-share" data-image="https://avatars.githubusercontent.com/u/39004468?s=400&amp;u=fd45b1d0b37e6e3a67afae8da29319f562a26250&amp;v=4" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2023/03/28/aes/aes/" title="AES"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">AES</div></div><div class="info-2"><div class="info-item-1">AES(ADVANCED ENCRYPTION STANDARD)是一种对称加解密算法。 以下内容字长均为4字节。 下图给出了AES加解密的流程，从图中可以看出：1）解密算法的每一步分别对应加密算法的逆操作，2）加解密所有操作的顺序正好是相反的。正是由于这几点（再加上加密算法与解密算法每步的操作互逆）保证了算法的正确性。加解密中每轮的密钥分别由种子密钥经过密钥扩展算法得到。算法中16字节的明文、密文和轮子密钥都以一个4x4的矩阵表示。  Bytes 字节的每一位按{b7,  b6,  b6,  b2,  b3,  b3,  b2,  b1,  b0}\{b_{7},\ \ b_{6},\ \ b_{6},\ \ b_{2},\ \ b_{3},\ \ b_{3},\ \ b_{2},\ \ b_{1},\ \ b_{0}\}{b7​,  b6​,  b6​,  b2​,  b3​,  b3​,  b2​,  b1​,  b0​}表示， b(x)=b7x7+b6x6+b5x5+b4x4+b3x3+b2x2+b1x+b0=∑i=07bixib(x)=b_{7}x^{7}+b_{6}x...</div></div></div></a><a class="pagination-related" href="/2023/02/24/i2c/i2c/" title="I2C"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">I2C</div></div><div class="info-2"><div class="info-item-1">I2C（Inter-Integrated Circuit）是一种半双工的串行通信协议。 I2C协议的特点  I2C协议采用两根线（SDA和SCL）进行数据传输和时钟同步。 I2C协议支持多主机和多从机的通信。 I2C协议的速率:  双向总线(Bidirectional bus):  Standard-mode (Sm): 100 kbit/s Fast-mode (Fm): 400 kbit/s Fast-mode Plus (Fm+): 1 Mbit/s High-speed mode (Hs-mode): 3.4 Mbit/s.   单项总线(Unidirectional bus):  Ultra Fast-mode (UFm): 5 Mbit/s      基本概念 I2C协议需要两条总线：SDA线和SCL线，其均为双向传输线，在总线空闲时，默认均为高电平(open drain or open collector -&gt; wired-And function)。由于线与的逻辑关系，I2C总线上可以挂载多个设备进行通信。 I2C协议支持多主机通信。多主机通信允许多个主设备...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/04/22/sdio/sdio/" title="SD"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-22</div><div class="info-item-2">SD</div></div><div class="info-2"><div class="info-item-1">Abbreviation    Abbr Desc     SD Secure Digital   MMC Multi Media Card   eMMC embedded Multi Media Card   CMD Command   CLK Clock   DAT Data   CRC Cyclic Redundancy Code   CID Card Identification Register   CSD Card-Specific Data Register   DSR Drive State Register   OCR Operation Condition Register   RCA Relative Card Address   SCR SD Configuration Register   UHS Ultra High Speed   SDR Single Data Rate   DDR Double Data Rate   SDSC Standard Capacity   SDHC High Capacity   SDXC Extended Capac...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/39004468?s=400&amp;u=fd45b1d0b37e6e3a67afae8da29319f562a26250&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Fore</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/forecuty"><i class="fab fa-github"></i><span>Contact Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%BB%8E%E6%9C%BA%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">多从机连接方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flash%E6%93%8D%E4%BD%9C"><span class="toc-number">3.</span> <span class="toc-text">Flash操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.</span> <span class="toc-text">操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Read"><span class="toc-number">3.3.1.</span> <span class="toc-text">Read</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Write"><span class="toc-number">3.3.2.</span> <span class="toc-text">Write</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Erase"><span class="toc-number">3.3.3.</span> <span class="toc-text">Erase</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-number">4.</span> <span class="toc-text">References</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/11/14/cranberry_cookies/cranberry_cookies/" title="Cranberry cookies"><img src="/images/cover_cranberry_cookies.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cranberry cookies"/></a><div class="content"><a class="title" href="/2025/11/14/cranberry_cookies/cranberry_cookies/" title="Cranberry cookies">Cranberry cookies</a><time datetime="2025-11-14T15:00:00.000Z" title="Created 2025-11-14 23:00:00">2025-11-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/14/sponge_cake/sponge_cake/" title="Sponge cake"><img src="/images/cover_sponge_cake.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Sponge cake"/></a><div class="content"><a class="title" href="/2025/11/14/sponge_cake/sponge_cake/" title="Sponge cake">Sponge cake</a><time datetime="2025-11-14T15:00:00.000Z" title="Created 2025-11-14 23:00:00">2025-11-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/22/sdio/sdio/" title="SD">SD</a><time datetime="2024-04-21T16:04:00.000Z" title="Created 2024-04-22 00:04:00">2024-04-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/28/aes/aes/" title="AES">AES</a><time datetime="2023-03-28T15:49:00.000Z" title="Created 2023-03-28 23:49:00">2023-03-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/12/spi/spi/" title="SPI">SPI</a><time datetime="2023-03-11T16:00:45.000Z" title="Created 2023-03-12 00:00:45">2023-03-12</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Fore</span></div><div class="footer_custom_text">(。・∀・)ノ</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><div class="js-pjax"></div><script async data-pjax src="/"></script></div></body></html>